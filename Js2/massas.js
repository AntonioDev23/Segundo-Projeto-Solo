const receitasMassas = {
  'pizza-caseira': {
    titulo: 'Pizza Caseira',
    descricao: 'Massa fininha e crocante, molho caseiro e muito queijo derretido.',
    imagem: 'imagens/Pizza caseira.webp',
    ingredientes: [
      '2 xícaras de farinha de trigo',
      '1 colher (sopa) de fermento biológico seco',
      '1 colher (chá) de sal',
      '3/4 xícara de água morna',
      '2 colheres (sopa) de azeite',
      '1/2 xícara de molho de tomate caseiro',
      '200g de mussarela ralada',
      'Tomate em rodelas',
      'Orégano a gosto'
    ],
    preparo: [
      'Misture a farinha, o fermento e o sal.',
      'Adicione a água morna e o azeite, e amasse até formar uma massa homogênea.',
      'Deixe a massa descansar por 1 hora, coberta com pano.',
      'Abra a massa em formato de pizza e espalhe o molho de tomate.',
      'Cubra com mussarela, tomate e orégano.',
      'Asse em forno preaquecido a 220°C por 15-20 minutos.'
    ],
    tempo: '1h 30min',
    avaliacao: 5,
    link: '#'
  },
  'lasanha': {
    titulo: 'Lasanha',
    descricao: 'Camadas generosas de massa, carne moída temperada e muito queijo gratinado.',
    imagem: 'imagens/Lasanha 2.webp',
    ingredientes: [
      '500g de massa para lasanha',
      '500g de carne moída',
      '1 cebola picada',
      '2 dentes de alho picados',
      '400g de molho de tomate',
      '300g de queijo mussarela fatiado',
      '200g de presunto fatiado',
      '200g de queijo parmesão ralado',
      'Sal e pimenta a gosto'
    ],
    preparo: [
      'Refogue a cebola e o alho até dourar.',
      'Adicione a carne moída, tempere com sal e pimenta e cozinhe até dourar.',
      'Acrescente o molho de tomate e deixe cozinhar por 10 minutos.',
      'Em um refratário, monte camadas: massa, molho, presunto, mussarela e repita.',
      'Finalize com queijo parmesão ralado.',
      'Leve ao forno preaquecido a 180°C por 30 minutos ou até gratinar.'
    ],
    tempo: '1h 15min',
    avaliacao: 5,
    link: '#'
  },
  'panqueca-de-frango': {
    titulo: 'Panqueca de Frango',
    descricao: 'Panquecas recheadas com frango desfiado e molho de tomate.',
    imagem: 'imagens/Panqueca de frango.png',
    ingredientes: [
      '1 xícara de farinha de trigo',
      '1 xícara de leite',
      '1 ovo',
      '1 pitada de sal',
      '300g de frango desfiado',
      '1/2 cebola picada',
      '2 dentes de alho picados',
      '1/2 xícara de molho de tomate',
      'Queijo ralado a gosto'
    ],
    preparo: [
      'Misture a farinha, leite, ovo e sal até formar uma massa lisa.',
      'Em uma frigideira antiaderente, faça as panquecas finas e reserve.',
      'Refogue a cebola e alho, adicione o frango desfiado e o molho de tomate, cozinhando por 10 minutos.',
      'Recheie as panquecas com o frango, enrole e coloque em um refratário.',
      'Cubra com queijo ralado e leve ao forno a 180°C por 20 minutos.'
    ],
    tempo: '45min',
    avaliacao: 4,
    link: '#'
  },
  'lasanha-a-bolonhesa': {
    titulo: 'Lasanha à Bolonhesa',
    descricao: 'Camadas de massa, carne moída e molho branco.',
    imagem: 'imagens/Lasanha bolonhesa.png',
    ingredientes: [
      '500g de massa para lasanha',
      '400g de carne moída',
      '1 cebola picada',
      '2 dentes de alho picados',
      '400g de molho de tomate',
      '500ml de molho branco (béchamel)',
      '200g de queijo mussarela fatiado',
      '100g de queijo parmesão ralado',
      'Sal e pimenta a gosto'
    ],
    preparo: [
      'Refogue a cebola e o alho, adicione a carne moída e cozinhe até dourar.',
      'Acrescente o molho de tomate e cozinhe por 15 minutos.',
      'Prepare o molho branco e reserve.',
      'Monte camadas em um refratário: massa, molho à bolonhesa, molho branco e queijo mussarela.',
      'Finalize com queijo parmesão ralado.',
      'Asse em forno preaquecido a 180°C por 35 minutos.'
    ],
    tempo: '1h 15min',
    avaliacao: 5,
    link: '#'
  },
  'macarrao-a-carbonara': {
    titulo: 'Macarrão à Carbonara',
    descricao: 'Massa italiana com bacon, ovos e queijo.',
    imagem: 'imagens/Macarrao carbonara.png',
    ingredientes: [
      '250g de espaguete',
      '150g de bacon picado',
      '2 ovos',
      '1/2 xícara de queijo parmesão ralado',
      '2 dentes de alho picados',
      'Sal e pimenta do reino a gosto',
      'Salsinha picada para decorar'
    ],
    preparo: [
      'Cozinhe o espaguete até ficar al dente.',
      'Frite o bacon até ficar crocante, adicione o alho e refogue rapidamente.',
      'Em uma tigela, bata os ovos com o queijo parmesão.',
      'Misture o macarrão quente com o bacon e depois com a mistura de ovos, mexendo rápido para não cozinhar os ovos.',
      'Tempere com sal, pimenta e decore com salsinha.'
    ],
    tempo: '25min',
    avaliacao: 4,
    link: '#'
  },

  'nhoque-de-batata': {
    titulo: 'Nhoque de Batata',
    descricao: 'Deliciosos nhoques macios de batata com molho de tomate.',
    imagem: 'imagens/nhoque-batata.png',
    ingredientes: [
      '1kg de batata',
      '1 ovo',
      '1 1/2 xícara de farinha de trigo',
      'Sal a gosto',
      'Molho de tomate para servir'
    ],
    preparo: [
      'Cozinhe as batatas com casca até ficarem macias.',
      'Descasque e amasse as batatas ainda quentes.',
      'Misture o ovo, sal e a farinha até formar uma massa lisa.',
      'Modele os nhoques e cozinhe em água fervente até subirem à superfície.',
      'Sirva com molho de tomate quente.'
    ],
    tempo: '1h',
    avaliacao: 4,
    link: '#'
  },
  'ravioli-de-queijo': {
    titulo: 'Ravioli de Queijo',
    descricao: 'Massa recheada com queijo cremoso, servido com molho manteiga e sálvia.',
    imagem: 'imagens/ravioli-queijo.png',
    ingredientes: [
      '300g de massa fresca para ravioli',
      '200g de queijo ricota',
      '100g de queijo parmesão ralado',
      '1 ovo',
      'Sal e noz-moscada a gosto',
      'Manteiga e folhas de sálvia para molho'
    ],
    preparo: [
      'Misture a ricota, parmesão, ovo, sal e noz-moscada para o recheio.',
      'Abra a massa e corte em quadrados.',
      'Coloque o recheio e feche formando os raviolis.',
      'Cozinhe em água fervente até subirem.',
      'Derreta manteiga com sálvia e sirva sobre os raviolis.'
    ],
    tempo: '1h 10min',
    avaliacao: 5,
    link: '#'
  },
  'fettuccine-ao-molho-branco': {
    titulo: 'Fettuccine ao Molho Branco',
    descricao: 'Massa fettuccine cremosa com molho branco e queijo parmesão.',
    imagem: 'imagens/fettucine.png',
    ingredientes: [
      '250g de fettuccine',
      '2 colheres de manteiga',
      '2 colheres de farinha de trigo',
      '500ml de leite',
      '100g de queijo parmesão ralado',
      'Sal, noz-moscada e pimenta do reino a gosto'
    ],
    preparo: [
      'Cozinhe o fettuccine até al dente.',
      'Faça um roux com manteiga e farinha.',
      'Acrescente o leite aos poucos, mexendo até engrossar.',
      'Adicione o queijo parmesão, sal, noz-moscada e pimenta.',
      'Misture o molho ao fettuccine e sirva quente.'
    ],
    tempo: '40min',
    avaliacao: 4,
    link: '#'
  },
  'espaguete-ao-alho-e-oleo': {
    titulo: 'Espaguete ao Alho e Óleo',
    descricao: 'Simples e saboroso espaguete com alho dourado e azeite.',
    imagem: 'imagens/espaguette-alho-oleo.png',
    ingredientes: [
      '250g de espaguete',
      '4 dentes de alho fatiados',
      '1/4 xícara de azeite de oliva',
      'Sal, pimenta e salsinha a gosto'
    ],
    preparo: [
      'Cozinhe o espaguete até ficar al dente.',
      'Aqueça o azeite e doure o alho.',
      'Misture o espaguete no azeite com alho.',
      'Tempere com sal, pimenta e salsinha.',
      'Sirva imediatamente.'
    ],
    tempo: '20min',
    avaliacao: 5,
    link: '#'
  },
  'talharim-com-camarao': {
    titulo: 'Talharim com Camarão',
    descricao: 'Talharim ao molho cremoso com camarões suculentos.',
    imagem: 'imagens/talharim-com-camarao.png',
    ingredientes: [
      '250g de talharim',
      '300g de camarões limpos',
      '2 dentes de alho picados',
      '200ml de creme de leite',
      '1 colher de manteiga',
      'Salsinha, sal e pimenta a gosto'
    ],
    preparo: [
      'Cozinhe o talharim até al dente.',
      'Refogue o alho na manteiga, adicione os camarões e cozinhe até ficarem rosados.',
      'Acrescente o creme de leite, tempere com sal e pimenta.',
      'Misture o talharim no molho e decore com salsinha.',
      'Sirva quente.'
    ],
    tempo: '35min',
    avaliacao: 4,
    link: '#'
  }
};


// Função principal para exibir a lista de massas
export function mostrarMassas() {
  // Remove interface antiga
  const containerAntigo = document.getElementById('massas-container');
  if (containerAntigo) containerAntigo.remove();

  const container = document.createElement('div');
  container.id = 'massas-container';
  container.style.position = 'fixed';
  container.style.top = '50px';
  container.style.right = '20px'; 
  container.style.left = 'auto';
  container.style.transform = 'none';
  container.style.width = '500px';
  container.style.maxHeight = '70vh';
  container.style.overflowY = 'auto';
  container.style.backgroundColor = '#fff';
  container.style.border = '2px solid #ff6b00';
  container.style.borderRadius = '8px';
  container.style.padding = '20px';
  container.style.boxShadow = '0 4px 10px rgba(0,0,0,0.3)';
  container.style.zIndex = '10000';

  const titulo = document.createElement('h2');
  titulo.textContent = 'Receitas de Massas';
  titulo.style.color = '#ff6b00';
  titulo.style.textAlign = 'center';
  container.appendChild(titulo);

  for (const chave in receitasMassas) {
    if (receitasMassas.hasOwnProperty(chave)) {
      const massa = receitasMassas[chave];

      const massaDiv = document.createElement('div');
      massaDiv.style.marginBottom = '15px';
      massaDiv.style.display = 'flex';
      massaDiv.style.justifyContent = 'space-between';
      massaDiv.style.alignItems = 'center';
      massaDiv.style.lineHeight = '1.2';
      massaDiv.style.padding = '8px 12px';
      massaDiv.style.border = '1.5px solid #ff6b00';
      massaDiv.style.borderRadius = '8px';
      massaDiv.style.transition = 'transform 0.2s ease, box-shadow 0.2s ease';
      massaDiv.style.cursor = 'pointer';

      massaDiv.addEventListener('mouseenter', () => {
        massaDiv.style.transform = 'translateY(-5px)';
        massaDiv.style.boxShadow = '0 4px 12px rgba(255, 107, 0, 0.4)';
      });
      massaDiv.addEventListener('mouseleave', () => {
        massaDiv.style.transform = 'translateY(0)';
        massaDiv.style.boxShadow = 'none';
      });

      const nomeMassa = document.createElement('strong');
      nomeMassa.textContent = massa.titulo;
      nomeMassa.style.display = 'inline-block';
      nomeMassa.style.verticalAlign = 'middle';
      massaDiv.appendChild(nomeMassa);

      const btnDetalhes = document.createElement('button');
      btnDetalhes.textContent = 'Receita';
      btnDetalhes.style.marginLeft = '10px';
      btnDetalhes.style.cursor = 'pointer';
      btnDetalhes.style.backgroundColor = '#ff6b00';
      btnDetalhes.style.color = '#fff';
      btnDetalhes.style.border = 'none';
      btnDetalhes.style.borderRadius = '4px';
      btnDetalhes.style.padding = '6px 12px';
      btnDetalhes.style.transition = 'background-color 0.3s ease';

      btnDetalhes.addEventListener('mouseenter', () => {
        btnDetalhes.style.backgroundColor = '#8b0000';
      });
      btnDetalhes.addEventListener('mouseleave', () => {
        btnDetalhes.style.backgroundColor = '#ff6b00';
      });

      // Aqui a única diferença: chamar o modal de massas igual o modal de bolos
      btnDetalhes.addEventListener('click', () => {
        criarModalDetalhesMassas(massa);
      });

      massaDiv.appendChild(btnDetalhes);
      container.appendChild(massaDiv);
    }
  }

  const btnFechar = document.createElement('button');
  btnFechar.textContent = 'Fechar';
  btnFechar.style.marginTop = '15px';
  btnFechar.style.width = '100%';
  btnFechar.style.padding = '10px';
  btnFechar.style.cursor = 'pointer';
  btnFechar.style.backgroundColor = '#8b0000';
  btnFechar.style.color = '#fff';
  btnFechar.style.border = 'none';
  btnFechar.style.borderRadius = '4px';
  btnFechar.style.fontWeight = 'bold';

  btnFechar.addEventListener('click', () => {
    container.remove();
  });

  container.appendChild(btnFechar);
  document.body.appendChild(container);
}


function criarModalDetalhesMassas(massa) {
  const modalAntigo = document.getElementById('modal-detalhes');
  if (modalAntigo) modalAntigo.remove();

  const overlay = document.createElement('div');
  overlay.id = 'modal-detalhes';
  overlay.style.position = 'fixed';
  overlay.style.top = '0';
  overlay.style.left = '0';
  overlay.style.width = '100vw';
  overlay.style.height = '100vh';
  overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';
  overlay.style.display = 'flex';
  overlay.style.justifyContent = 'center';
  overlay.style.alignItems = 'center';
  overlay.style.zIndex = '20000';

  const modal = document.createElement('div');
  modal.style.backgroundColor = '#fff';
  modal.style.padding = '30px';
  modal.style.borderRadius = '10px';
  modal.style.width = '500px';
  modal.style.maxHeight = '80vh';
  modal.style.overflowY = 'auto';
  modal.style.boxShadow = '0 0 15px rgba(0,0,0,0.4)';
  modal.style.position = 'relative';

  // Estrelas (pode ajustar depois para massa.estrelas)
  const estrelas = document.createElement('div');
  estrelas.textContent = '★★★★★';
  estrelas.style.textAlign = 'center';
  estrelas.style.fontSize = '40px';
  estrelas.style.marginBottom = '15px';
  estrelas.style.color = 'gold'; 
  modal.appendChild(estrelas);

  // Título centralizado
  const titulo = document.createElement('h2');
  titulo.textContent = massa.titulo;
  titulo.style.color = '#8b0000';
  titulo.style.marginBottom = '20px';
  titulo.style.textAlign = 'center';
  modal.appendChild(titulo);

// Imagem da massa (caso tenha a propriedade 'imagem' no objeto massa)
if (massa.imagem) {
  const img = document.createElement('img');
  img.src = massa.imagem;
  img.alt = massa.titulo;
  img.style.display = 'block';
  img.style.margin = '0 auto 20px'; // centralizar + espaçamento embaixo
  img.style.maxWidth = '100%';
  img.style.borderRadius = '8px';
  modal.appendChild(img);
}

  
  // Título "Receita"
  const receitaTitulo = document.createElement('h3');
  receitaTitulo.textContent = 'Receita';
  receitaTitulo.style.color = '#8b0000';
  receitaTitulo.style.marginBottom = '10px';
  receitaTitulo.style.textAlign = 'center';
  modal.appendChild(receitaTitulo);

  // Lista de ingredientes
  const ingredientes = document.createElement('ul');
  ingredientes.style.marginBottom = '20px';
  ingredientes.style.paddingLeft = '20px';
  massa.ingredientes.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    ingredientes.appendChild(li);
  });
  modal.appendChild(ingredientes);

  // Título "Modo de preparo"
  const preparoTitulo = document.createElement('h3');
  preparoTitulo.textContent = 'Modo de preparo';
  preparoTitulo.style.color = '#8b0000';
  preparoTitulo.style.marginBottom = '10px';
  preparoTitulo.style.textAlign = 'center';
  modal.appendChild(preparoTitulo);

  // Lista de preparo
  const preparo = document.createElement('ol');
  preparo.style.paddingLeft = '20px';
  massa.preparo.forEach(passo => {
    const li = document.createElement('li');
    li.textContent = passo;
    preparo.appendChild(li);
  });
  modal.appendChild(preparo);

  // Botão fechar
  const btnFechar = document.createElement('button');
  btnFechar.textContent = 'Fechar';
  btnFechar.style.marginTop = '20px';
  btnFechar.style.width = '100%';
  btnFechar.style.padding = '10px';
  btnFechar.style.backgroundColor = '#8b0000';
  btnFechar.style.color = '#fff';
  btnFechar.style.border = 'none';
  btnFechar.style.borderRadius = '5px';
  btnFechar.style.fontWeight = 'bold';
  btnFechar.style.cursor = 'pointer';

  btnFechar.addEventListener('click', () => {
    overlay.remove();
  });

  modal.appendChild(btnFechar);
  overlay.appendChild(modal);
  document.body.appendChild(overlay);
}
